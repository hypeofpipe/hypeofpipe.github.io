import{i as k,j as ie,I as re,o as F,k as w,m as ae,B as se,g as Q,J as oe,D as ue,F as le,G as W,s as y,p as D,C as te,K as ve,L as Z,t as de,M as T,y as U,A as ce,N as $,O as pe,P as Y,Q as _e,R as ge,S as he,T as Ee,v as ne,x as fe,U as z,V as Ae,n as Te,W as Se,X as Ne,w as Ie,Y as me,Z as we,_ as Ce}from"./DfqNhSLu.js";function ke(e,n){return n}function Me(e,n,f){for(var l=[],t=n.length,u,o=n.length,p=0;p<t;p++){let h=n[p];fe(h,()=>{if(u){if(u.pending.delete(h),u.done.add(h),u.pending.size===0){var v=e.outrogroups;V(Y(u.done)),v.delete(u),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=l.length===0&&f!==null;if(a){var d=f,i=d.parentNode;Ne(i),i.append(d),e.items.clear()}V(n,!a)}else u={pending:new Set(n),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(u)}function V(e,n=!0){for(var f=0;f<e.length;f++)Ie(e[f],n)}var j;function Fe(e,n,f,l,t,u=null){var o=e,p=new Map,a=(n&re)!==0;if(a){var d=e;o=w?F(ae(d)):d.appendChild(k())}w&&se();var i=null,h=oe(()=>{var s=f();return _e(s)?s:s==null?[]:Y(s)}),v,c=!0;function N(){r.fallback=i,xe(r,v,o,n,l),i!==null&&(v.length===0?i.f&T?(i.f^=T,H(i,null,o)):ne(i):fe(i,()=>{i=null}))}var C=ie(()=>{v=Q(h);var s=v.length;let M=!1;if(w){var x=ue(o)===le;x!==(s===0)&&(o=W(),F(o),y(!1),M=!0)}for(var E=new Set,I=de,R=ce(),_=0;_<s;_+=1){w&&D.nodeType===te&&D.data===ve&&(o=D,M=!0,y(!1));var m=v[_],b=l(m,_),g=c?null:p.get(b);g?(g.v&&Z(g.v,m),g.i&&Z(g.i,_),R&&I.skipped_effects.delete(g.e)):(g=Re(p,c?o:j??(j=k()),m,b,_,t,n,f),c||(g.e.f|=T),p.set(b,g)),E.add(b)}if(s===0&&u&&!i&&(c?i=U(()=>u(o)):(i=U(()=>u(j??(j=k()))),i.f|=T)),w&&s>0&&F(W()),!c)if(R){for(const[L,O]of p)E.has(L)||I.skipped_effects.add(O.e);I.oncommit(N),I.ondiscard(()=>{})}else N();M&&y(!0),Q(h)}),r={effect:C,items:p,outrogroups:null,fallback:i};c=!1,w&&(o=D)}function xe(e,n,f,l,t){var g,L,O,q,B,K,P,X,G;var u=(l&Se)!==0,o=n.length,p=e.items,a=e.effect.first,d,i=null,h,v=[],c=[],N,C,r,s;if(u)for(s=0;s<o;s+=1)N=n[s],C=t(N,s),r=p.get(C).e,r.f&T||((L=(g=r.nodes)==null?void 0:g.a)==null||L.measure(),(h??(h=new Set)).add(r));for(s=0;s<o;s+=1){if(N=n[s],C=t(N,s),r=p.get(C).e,e.outrogroups!==null)for(const A of e.outrogroups)A.pending.delete(r),A.done.delete(r);if(r.f&T)if(r.f^=T,r===a)H(r,null,f);else{var M=i?i.next:a;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),S(e,i,r),S(e,r,M),H(r,M,f),i=r,v=[],c=[],a=i.next;continue}if(r.f&z&&(ne(r),u&&((q=(O=r.nodes)==null?void 0:O.a)==null||q.unfix(),(h??(h=new Set)).delete(r))),r!==a){if(d!==void 0&&d.has(r)){if(v.length<c.length){var x=c[0],E;i=x.prev;var I=v[0],R=v[v.length-1];for(E=0;E<v.length;E+=1)H(v[E],x,f);for(E=0;E<c.length;E+=1)d.delete(c[E]);S(e,I.prev,R.next),S(e,i,I),S(e,R,x),a=x,i=R,s-=1,v=[],c=[]}else d.delete(r),H(r,a,f),S(e,r.prev,r.next),S(e,r,i===null?e.effect.first:i.next),S(e,i,r),i=r;continue}for(v=[],c=[];a!==null&&a!==r;)(d??(d=new Set)).add(a),c.push(a),a=a.next;if(a===null)continue}r.f&T||v.push(r),i=r,a=r.next}if(e.outrogroups!==null){for(const A of e.outrogroups)A.pending.size===0&&(V(Y(A.done)),(B=e.outrogroups)==null||B.delete(A));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||d!==void 0){var _=[];if(d!==void 0)for(r of d)r.f&z||_.push(r);for(;a!==null;)!(a.f&z)&&a!==e.fallback&&_.push(a),a=a.next;var m=_.length;if(m>0){var b=l&re&&o===0?f:null;if(u){for(s=0;s<m;s+=1)(P=(K=_[s].nodes)==null?void 0:K.a)==null||P.measure();for(s=0;s<m;s+=1)(G=(X=_[s].nodes)==null?void 0:X.a)==null||G.fix()}Me(e,_,b)}}u&&Ae(()=>{var A,J;if(h!==void 0)for(r of h)(J=(A=r.nodes)==null?void 0:A.a)==null||J.apply()})}function Re(e,n,f,l,t,u,o,p){var a=o&ge?o&he?$(f):pe(f,!1,!1):null,d=o&Ee?$(t):null;return{v:a,i:d,e:U(()=>(u(n,a??f,d??t,p),()=>{e.delete(l)}))}}function H(e,n,f){if(e.nodes)for(var l=e.nodes.start,t=e.nodes.end,u=n&&!(n.f&T)?n.nodes.start:f;l!==null;){var o=Te(l);if(u.before(l),l===t)return;l=o}}function S(e,n,f){n===null?e.effect.first=f:n.next=f,f===null?e.effect.last=n:f.prev=n}const be=Symbol("is custom element"),He=Symbol("is html");function ye(e,n,f,l){var t=Le(e);w&&(t[n]=e.getAttribute(n),e.nodeName==="LINK")||t[n]!==(t[n]=f)&&(f==null?e.removeAttribute(n):typeof f!="string"&&Oe(e).includes(n)?e[n]=f:e.setAttribute(n,f))}function Le(e){return e.__attributes??(e.__attributes={[be]:e.nodeName.includes("-"),[He]:e.namespaceURI===me})}var ee=new Map;function Oe(e){var n=e.getAttribute("is")||e.nodeName,f=ee.get(n);if(f)return f;ee.set(n,f=[]);for(var l,t=e,u=Element.prototype;u!==t;){l=Ce(t);for(var o in l)l[o].set&&f.push(o);t=we(t)}return f}export{Fe as e,ke as i,ye as s};
